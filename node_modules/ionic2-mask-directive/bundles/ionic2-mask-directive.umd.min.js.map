{"version":3,"file":"ionic2-mask-directive.umd.min.js","sources":["~/ionic2-mask-directive/index.ts"],"sourcesContent":["import { Directive, HostListener, Input } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nexport class Ionic2MaskDirective {\n\n     mask: string;\n/**\n * @param {?} control\n */\nconstructor(\nprivate control: NgControl\n    ) { }\n/**\n * @return {?}\n */\nngOnChanges() {\n        let /** @type {?} */ value = this.control.control.value;\n        if (value) {\n            this.control.control.setValue(this.format(value));\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonKeyUp($event: any) {\n        if ($event.keyCode !== 13 && $event.keyCode !== 9) {\n            let /** @type {?} */ value = this.control.control.value;\n\n            this.control.control.setValue(this.format(value));\n        }\n    }\n/**\n * @param {?} v\n * @return {?}\n */\nprivate format(v: string): string {\n        let /** @type {?} */ s: string = '';\n\n        var /** @type {?} */ matches = v.match(/[a-zA-Z0-9]+/g);\n        if (matches !== null) {\n            let /** @type {?} */ value = matches.join('').split('');\n\n            var /** @type {?} */ chars = this.mask.split('');\n            for (let /** @type {?} */ c of chars) {\n                if (value.length === 0) {\n                    break;\n                }\n\n                switch (c) {\n                    case '#':\n                        s += value[0];\n                        value = value.slice(1);\n                        break;\n\n                    case '9':\n                        if (value[0].match(/\\d/) !== null) {\n                            s += value[0];\n                            value = value.slice(1);\n                        }\n                        break;\n\n                    case 'A':\n                        if (value[0].match(/[a-zA-Z]/) !== null) {\n                            s += value[0];\n                            value = value.slice(1);\n                        }\n                        break;\n\n                    default:\n                        s += c;\n                }\n            }\n        }\n\n        return s;\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[mask]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgControl, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'mask': [{ type: Input },],\n'ngOnChanges': [{ type: HostListener, args: ['change', ] },],\n'onKeyUp': [{ type: HostListener, args: ['keyup', ['$event'], ] },],\n};\n}\n\nfunction Ionic2MaskDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nIonic2MaskDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIonic2MaskDirective.ctorParameters;\n/** @type {?} */\nIonic2MaskDirective.propDecorators;\n/** @type {?} */\nIonic2MaskDirective.prototype.mask;\n/** @type {?} */\nIonic2MaskDirective.prototype.control;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["Ionic2MaskDirective","control","this","prototype","ngOnChanges","value","setValue","format","onKeyUp","$event","keyCode","v","s","matches","match","join","split","_i","chars_1","mask","length","c","slice","decorators","type","Directive","args","selector","ctorParameters","NgControl","propDecorators","Input","HostListener"],"mappings":"wTAEA,IAAAA,EAAA,WAMA,SAAAA,EACgBC,GAAAC,KAAhBD,QAAgBA,SAKhBD,EAAAG,UAAAC,YAAA,WACQ,IAAIC,EAAQH,KAAKD,QAAQA,QAAQI,MAC7BA,GACAH,KAAKD,QAAQA,QAAQK,SAASJ,KAAKK,OAAOF,KAOtDL,EAAAG,UAAAK,QAAA,SAFKC,GAGG,GAFuB,KAEnBA,EAFOC,SAAqC,IAAnBD,EAAOC,QAAe,CAG/C,IAFIL,EAAQH,KAAKD,QAAQA,QAAQI,MAIjCH,KAFKD,QAAQA,QAAQK,SAASJ,KAAKK,OAAOF,MAIjDL,EAALG,UAAAI,OAAK,SAAAI,GAMG,IALIC,EAAY,GAEZC,EAAUF,EAAEG,MAAM,iBAMtB,GALgB,OAKZD,EAIA,IAHA,IALIR,EAAQQ,EAAQE,KAAK,IAAIC,MAAM,IAQ/CC,EAAA,EAL0BC,EADFhB,KAAKiB,KAAKH,MAAM,IACdC,EAK1BC,EAAAE,OAL0BH,IAK1B,CAAiB,IALII,EAKrBH,EAAAD,GACgB,GALqB,IAKjBZ,EALMe,OAMN,MAGJ,OAAQC,GACJ,IALK,IAMDT,GALKP,EAAM,GAMXA,EALQA,EAAMiB,MAAM,GAMpB,MAEJ,IALK,IAC4B,OAKzBjB,EALM,GAAGS,MAAM,QAMfF,GALKP,EAAM,GAMXA,EALQA,EAAMiB,MAAM,IAOxB,MAEJ,IALK,IACkC,OAK/BjB,EALM,GAAGS,MAAM,cAMfF,GALKP,EAAM,GAMXA,EALQA,EAAMiB,MAAM,IAOxB,MAEJ,QACIV,GALKS,GAUrB,OALOT,KAnEf,GAsEOZ,EAAPuB,aACEC,KAAMC,EAAAA,UAAWC,OAMfC,SALU,aAIb3B,EAAD4B,eAAC,WAAA,QAQAJ,KAZCK,EAAAA,aAOK7B,EAAP8B,gBAQAX,OAPWK,KAAMO,EAAAA,QAQjB3B,cAPkBoB,KAAMQ,EAAAA,aAAcN,MAAM,YAQ5ClB,UAPcgB,KAAMQ,EAAAA,aAAcN,MAAM,SAAU"}

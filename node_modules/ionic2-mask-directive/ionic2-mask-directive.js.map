{"version":3,"file":"ionic2-mask-directive.js","sources":["ts/ionic2-mask-directive.ts","ts/index.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {Ionic2MaskDirective} from './index';\n","import { Directive, HostListener, Input } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nexport class Ionic2MaskDirective {\n\n     mask: string;\n/**\n * @param {?} control\n */\nconstructor(\nprivate control: NgControl\n    ) { }\n/**\n * @return {?}\n */\nngOnChanges() {\n        let /** @type {?} */ value = this.control.control.value;\n        if (value) {\n            this.control.control.setValue(this.format(value));\n        }\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\nonKeyUp($event: any) {\n        if ($event.keyCode !== 13 && $event.keyCode !== 9) {\n            let /** @type {?} */ value = this.control.control.value;\n\n            this.control.control.setValue(this.format(value));\n        }\n    }\n/**\n * @param {?} v\n * @return {?}\n */\nprivate format(v: string): string {\n        let /** @type {?} */ s: string = '';\n\n        var /** @type {?} */ matches = v.match(/[a-zA-Z0-9]+/g);\n        if (matches !== null) {\n            let /** @type {?} */ value = matches.join('').split('');\n\n            var /** @type {?} */ chars = this.mask.split('');\n            for (let /** @type {?} */ c of chars) {\n                if (value.length === 0) {\n                    break;\n                }\n\n                switch (c) {\n                    case '#':\n                        s += value[0];\n                        value = value.slice(1);\n                        break;\n\n                    case '9':\n                        if (value[0].match(/\\d/) !== null) {\n                            s += value[0];\n                            value = value.slice(1);\n                        }\n                        break;\n\n                    case 'A':\n                        if (value[0].match(/[a-zA-Z]/) !== null) {\n                            s += value[0];\n                            value = value.slice(1);\n                        }\n                        break;\n\n                    default:\n                        s += c;\n                }\n            }\n        }\n\n        return s;\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[mask]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgControl, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'mask': [{ type: Input },],\n'ngOnChanges': [{ type: HostListener, args: ['change', ] },],\n'onKeyUp': [{ type: HostListener, args: ['keyup', ['$event'], ] },],\n};\n}\n\nfunction Ionic2MaskDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nIonic2MaskDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIonic2MaskDirective.ctorParameters;\n/** @type {?} */\nIonic2MaskDirective.propDecorators;\n/** @type {?} */\nIonic2MaskDirective.prototype.mask;\n/** @type {?} */\nIonic2MaskDirective.prototype.control;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
